{
  "hash": "57381f94979415a82f739f942445f566",
  "result": {
    "markdown": "---\ntitle: \"Analfabetismo no Brasil\"\ndate: \"2024-05-12\"\ncategories: ['data-visualization', 'ggplot2', 'brazil', 'maps']\ndescription: \"Os dados mais recentes do IBGE revelam um padrão geográfico marcante na taxa de analfabetismo no Brasil. Os municípios do nordeste do país apresentam taxas de analfabetismo quase 3x maiores do que no restante do país. O gender gap na taxa de alfabetização também é maior nas cidades do nordeste.\"\nexecute: \n  message: false\n  warning: false\n---\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(sidrar)\nlibrary(ggplot2)\nlibrary(ggtext)\nlibrary(showtext)\nlibrary(patchwork)\n\nfont_add_google(\"Fira Mono\", \"Fira Mono\")\nfont_add_google(\"Open Sans\", \"Open Sans\")\nshowtext_auto()\n\nmuni = geobr::read_municipality(year = 2020, showProgress = FALSE)\ndim_muni = as_tibble(st_drop_geometry(muni))\n\nanalf = get_sidra(9543, geo = \"City\", classific = \"c2\")\n\ntbl_gender = analf |> \n  janitor::clean_names() |> \n  as_tibble() |> \n  filter(sexo != \"Total\") |> \n  select(code_muni = municipio_codigo, sex = sexo, rate = valor) |> \n  mutate(code_muni = as.numeric(code_muni))\n\nanalf_gender = tbl_gender |> \n  mutate(sex = factor(sex)) |> \n  pivot_wider(id_cols = \"code_muni\", names_from = \"sex\", values_from = \"rate\") |> \n  rename_with(tolower) |> \n  mutate(gender_gap = homens - mulheres) |> \n  arrange(gender_gap)\n\nanalf_gender = analf_gender |> \n  left_join(dim_muni) |> \n  mutate(\n    is_nordeste = factor(if_else(code_region == 2, 1L, 0L))\n  )\n\ntbl_analf = analf |> \n  janitor::clean_names() |> \n  as_tibble() |> \n  filter(sexo == \"Total\") |> \n  select(code_muni = municipio_codigo, rate = valor) |> \n  mutate(code_muni = as.numeric(code_muni))\n\nanalf_city = left_join(muni, tbl_analf, by = \"code_muni\")\n\nanalf_city = analf_city |> \n  mutate(analf_rate = 100 - rate)\n\nbreaks_jenks = BAMMtools::getJenksBreaks(analf_city$analf_rate, k = 9)[-1]\nbreaks_jenks = ceiling(breaks_jenks)\n\nlabels = c(\"<5%\", \"5-8%\", \"8-11%\", \"11-15%\", \"15-19%\", \"19-23%\", \"23-27%\", \"27-37%\")\n\nanalf_city = analf_city |> \n  mutate(analf_group = factor(findInterval(analf_rate, breaks_jenks, left.open = TRUE)))\n\np1 = ggplot(analf_city) +\n  geom_sf(aes(fill = analf_group, color = analf_group), lwd = 0.15) +\n  scale_fill_brewer(\n    name = \"\",\n    type = \"div\",\n    direction = -1,\n    labels = labels\n    ) +\n  scale_color_brewer(\n    name = \"\",\n    type = \"div\",\n    direction = -1,\n    labels = labels\n    ) +\n  labs(\n    title = \"Taxa de Analfabetismo\",\n    subtitle = \"Taxa de analfabetismo total por município\"\n  ) +\n  coord_sf(xlim = c(NA, -35)) +\n  ggthemes::theme_map(base_family = \"Open Sans\") +\n  theme(\n    legend.position.inside = c(0.1, 0.1),\n    plot.title = element_text(\n      hjust = 0.5,\n      size = 22,\n      margin = margin(5, 0, 5, 0)\n      ),\n    plot.subtitle = element_text(\n      hjust = 0.5,\n      margin = margin(2.5, 0, 0, 0)\n      ),\n    plot.margin = margin(0, 0, 0, 0)\n  )\n\nanalf_city = analf_city |> \n  mutate(is_nordeste = factor(if_else(code_region == 2, 1L, 0L)))\n\ntbl_summary = analf_city |> \n  st_drop_geometry() |> \n  summarise(avg = mean(analf_rate), .by = \"is_nordeste\")\n\np2 = ggplot() +\n  geom_density(\n    data = analf_city,\n    aes(x = analf_rate, fill = is_nordeste),\n    alpha = 0.6\n  ) +\n  geom_vline(\n    data = tbl_summary,\n    aes(xintercept = avg, color = is_nordeste),\n    lty = 2\n  ) +\n  geom_hline(yintercept = 0) +\n  guides(fill = \"none\", color = \"none\") +\n  scale_fill_manual(values = c(\"#01665e\", \"#8c510a\")) +\n  scale_color_manual(values = c(\"#01665e\", \"#8c510a\")) +\n  labs(\n    title = \"Taxa de analfabetismo médio é quase 3x maior entre as cidades do <b><span style='color:#8c510a'>Nordeste</span></b>, em relação ao resto do <b><span style='color:#01665e'>Brasil</span></b>.\",\n    subtitle = \"Taxa de analfabetismo total nas cidades brasileiras. Linhas tracejadas indicam taxa média entre as cidades do Nordeste e no restante do país.\",\n    x = \"Taxa de analfabetismo (%)\",\n    y = NULL\n  ) +\n  theme_minimal(base_family = \"Fira Mono\") +\n  theme(\n    panel.grid.minor = element_blank(),\n    plot.title = element_textbox_simple(\n      size = 16,\n      padding = margin(5.5, 5.5, 5.5, 5.5),\n      margin = margin(0, 0, 5.5, 0),\n      family = \"Open Sans\"\n      ),\n    plot.subtitle = element_textbox_simple(\n      size = 8,\n      padding = margin(5.5, 5.5, 5.5, 5.5),\n      margin = margin(0, 0, 5.5, 0))\n    )\n\nlabel_1 = \"Em 97,4% das cidades do <b><span style='color:#8c510a'>Nordeste</span></b>, as pessoas do <i>sexo feminino têm taxas de alfabetização menores</i>. Em alguns casos, a diferença supera 10 pontos percentuais.\"\n\nlabel_2 = \"Na maior parte das cidades do <b><span style='color:#01665e'>Brasil</span></b>, não há diferença grande na taxa de alfabetização entre pessoas do sexo masculino e do sexo feminino.\"\n\ntext_labels = tibble(\n  x = c(-10, 7.5), y = c(0.2, 0.25), label = c(label_1, label_2)\n)\n\np3 = ggplot() +\n  geom_density(\n    data = analf_gender,\n    aes(x = gender_gap, fill = is_nordeste),\n    alpha = 0.7) +\n  geom_textbox(\n    data = text_labels,\n    aes(x, y, label = label),\n    family = \"Open Sans\",\n    size = 3\n  ) +\n  scale_fill_manual(values = c(\"#01665e\", \"#8c510a\")) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Gender gap na alfabetização\",\n    subtitle = \"Diferença, em pontos percentuais, da taxa de alfabetização entre pessoas do sexo masculino e pessoas do sexo feminino. Valores próximos de zero indicam diferenças pequenas. Valores negativos indicam que mulheres têm taxas de alfabetização menores do que homens.\",\n    caption = \"Fonte: IBGE (Censo, 2022). @viniciusoike\",\n    y = NULL,\n    x = \"Gender gap\"\n  ) +\n  theme_minimal(base_family = \"Fira Mono\") +\n  theme(\n    panel.grid.minor = element_blank(),\n    plot.title = element_textbox_simple(\n      size = 16,\n      padding = margin(5.5, 5.5, 5.5, 5.5),\n      margin = margin(0, 0, 5.5, 0),\n      family = \"Open Sans\"\n    ),\n    plot.subtitle = element_textbox_simple(\n      size = 8,\n      padding = margin(5.5, 5.5, 5.5, 5.5),\n      margin = margin(0, 0, 5.5, 0))\n  )\n\npanel = p1 | (p2 / p3)\npanel = panel + plot_layout(widths = c(0.5, 0.5))\n```\n:::\n\n\n# Analfabetismo no Brasil\n\n## Mapa dos municípios\n\nA taxa média de analfabetismo no Brasil é de 7%, segundo o Censo mais recente do IBGE. Isto é, os municípios em tons mais claros de verde e em tons de marrom estão todos acima da média nacional.\n\n\n::: {.cell fig.showtext='true'}\n::: {.cell-output-display}\n![](index_files/figure-html/plot-map-1.svg){width=100% height=900px}\n:::\n:::\n\n\n## Nordeste\n\n### Cidades no Nordeste tem taxas de analfabetismo mais elevadas\n\nQuando se olha especificamente para as cidades nordestinas, verifica-se taxas de analfabetismo consideravelmente elevadas. A taxa média chega a ser quase três vezes maior do que a observada no restante do país.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](index_files/figure-html/plot-1-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n### Discrepâncias entre homens e mulheres é elevada\n\nA disparidade nas taxas de alfabetização também se apresenta quando olha-se os dados relativos a pessoas do sexo masculino e pessoas do sexo feminino. O \"gender gap\", diferença entre a taxa de alfabetização entre homens e entre mulheres, também é maior entre cidades do Nordeste do que no restante do país. Vale reforçar que o gráfico abaixo mostra a *diferença nas taxas de alfabetização*, assim valores negativos, indicam que as taxas de analfabetismo são maiores entre mulheres.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](index_files/figure-html/plot-2-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n## Painel Geral\n\n\n::: {.cell fig.showtext='true'}\n::: {.cell-output-display}\n![](index_files/figure-html/plot-panel-1.svg){width=100% height=900px}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n-   Dados: [Censo 2022 (IBGE)](https://sidra.ibge.gov.br/pesquisa/censo-demografico/demografico-2022/universo-alfabetizacao)\n\n-   Tipografia: [Fira Mono](https://fonts.google.com/specimen/Fira+Mono?query=fira+mono) e [Open Sans](https://fonts.google.com/specimen/Open+Sans?query=open+sans)\n\n-   Paleta: [`BrBG`](https://colorbrewer2.org/#type=diverging&scheme=BrBG&n=3) (ColorBrewer)\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}