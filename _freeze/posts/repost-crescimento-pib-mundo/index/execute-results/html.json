{
  "hash": "6fd4e9852ff15f2e979348e315aaa504",
  "result": {
    "markdown": "---\ntitle: \"Crescimento do PIB per capita no mundo\"\ndate: '2019-06-01'\ncategories: ['repost', 'data-visualization', 'ggplot2', 'tutorial-R']\ndescription: 'Reproduzindo uma visualização do portal Nexo'\nformat:\n  html:\n    code-fold: true\n    code-tools: true\nexecute: \n  warning: false\n  message: false\n  echo: false\n---\n\n::: {.cell}\n\n:::\n\n\n# Introdução\n\nComo desafio pessoal às vezes tento replicar gráficos que acho interessante. O portal Nexo, em particular, costuma ter lindas visualizações de dados. Vou tentar replicar os [gráficos desta publicação](https://www.nexojornal.com.br/grafico/2018/07/30/O-crescimento-e-a-queda-do-PIB-dos-pa%C3%ADses-ao-longo-do-tempo). Como o foco desta postagem está na visualização e em mostrar exemplos de aplicações do `ggplot2` vou omitir as (longas) manipulações de dados, deixando indicadas as fontes (com links) que usei. Numa postagem futura pretendo fazer um tutorial mais detalhado de como reproduzir estes gráficos.\n\n## Pacotes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"readxl\")\nlibrary(\"here\")\nlibrary(\"ggplot2\")\nlibrary(\"ggrepel\")\nlibrary(\"dplyr\")\nlibrary(\"reshape2\")\nlibrary(\"kableExtra\")\n```\n:::\n\n\n## Dados\n\nDados são do Maddison Project Database, [disponíveis aqui](https://www.rug.nl/ggdc/historicaldevelopment/maddison/releases/maddison-project-database-2018)\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-bordered table-hover table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> País </th>\n   <th style=\"text-align:center;\"> Ano </th>\n   <th style=\"text-align:center;\"> Região </th>\n   <th style=\"text-align:center;\"> PIB </th>\n   <th style=\"text-align:center;\"> Crescimento </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;\"> Angola </td>\n   <td style=\"text-align:center;\"> 2005 </td>\n   <td style=\"text-align:center;\"> Africa </td>\n   <td style=\"text-align:center;\"> 66351984 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Angola </td>\n   <td style=\"text-align:center;\"> 2011 </td>\n   <td style=\"text-align:center;\"> Africa </td>\n   <td style=\"text-align:center;\"> 123013536 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2005 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 21452400 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2006 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 22717995 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2007 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 24080895 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2008 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 25890410 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2009 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 26754552 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2010 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 27741824 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2011 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 28452000 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> Albania </td>\n   <td style=\"text-align:center;\"> 2012 </td>\n   <td style=\"text-align:center;\"> Europe </td>\n   <td style=\"text-align:center;\"> 28852736 </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n# Europa\n\nNeste primeiro gráfico cada quadradinho representa uma variável binária que indica se o país estava em expansão ou recessão. Mapeio esta variável usando o `geom_tile` e depois ajusto o tamanho dos quadradinhos. Para dar um pouco da intuição do processo vale começar com uma versão simplificada do problema.\n\nQueremos mapear a cada ano se um país está ou não em recessão. A tabela abaixo reúne esta informação para seis países (Alemanha, Bélgica, França, Itália, Polônia e Reino Unido) desde 1980. É um pequeno recorte da nossa base original.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:80%; \"><table class=\"table table-hover table-condensed table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> year </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> country </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> var_pib </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1980 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1981 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1982 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1983 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1985 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1987 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1988 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1991 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1992 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1993 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1994 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1995 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1996 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1997 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1998 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1999 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2000 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2001 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2002 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2003 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2009 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2010 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2011 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2012 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> Belgium </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> United Kingdom </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:left;\"> Poland </td>\n   <td style=\"text-align:left;\"> 1 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\nA função `geom_tile()` mapeia cada observação num quadrado. A cor de cada quadrado depende da variável binária `var_pib`. O código abaixo mostra como montar este gráfico bastante simples.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(sub, aes(x = year, y = country)) +\n  geom_tile(aes(fill = var_pib), height = .85, width = 1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nO resto do trabalho é simplesmente ajustar os eixos, os nomes das legendas, etc. No código fonte da página do Nexo encontrei as fontes usadas nos gráficos: Gotham Rounded Bold e Gotham Rounded Light. O pacote `showtext` me permite carregar estas fontes no R.\n\nO gráfico abaixo mostra o resultado final considerando todos os países da Europa.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_europa <- d %>% \n  # Filtra por região (Europa)\n  filter(region == \"Europe\") %>%\n  # Restringe a amostra às observações a partir de 1900\n  filter(year >= 1900)\n\nplot_europa <- ggplot(d_europa, aes(year, country))+\n  # Mapeia cada variável como um 'tile' (quadradinho)\n  geom_tile(aes(fill = var_pib), height = .85, width = 1)+\n  # Superimpõe linhas verticais tracejadas\n  geom_vline(\n    # valores de corte das linhas\n    xintercept = c(1900, 1925, 1950, 1975, 2000, 2016),      \n    # tipo da linha (2 = tracejado)\n    linetype = 2,                                           \n    # cor da linha\n    colour = \"gray65\"\n    )+                                      \n  # Modifica o eixo-x\n  scale_x_continuous(\n    breaks = c(1900, 1925, 1950, 1975, 2000, 2016),\n    # remove a área entre o gráfico e o eixo\n    expand = c(0,0),\n    # duplica o eixo (para aparecer em cima e em baixo)\n    sec.axis = dup_axis()\n    ) +                         \n  # Modifica a legenda e as cores \n  scale_fill_discrete(\n    breaks = c(0,1),\n    # título da legenda\n    name = \"VARIAÇÃO DO PIB NO MUNDO\\nPor ano\",\n    # texto da legenda\n    labels = c(\"PIB EM QUEDA\", \"PIB EM CRESCIMENTO\"), \n    na.value = \"gray90\"\n    )+\n  # Define o título do gráfico e o título dos eixos\n  labs(title = \"Europa\", x = NULL, y = NULL)+\n  # Modifica características estéticas do gráfico\n  theme(\n    # Fundo do gráfico\n    panel.grid = element_blank(),\n    # Define as margens do gráfico\n    plot.margin = unit(c(1, 1, .5, 1), \"cm\"),\n    # Eixos\n    axis.text.y = element_text(vjust = .4),\n    axis.ticks = element_line(size = .4),\n    axis.text = element_text(family  = \"Gotham Rounded Light\", size = 8),\n    # Legenda\n    legend.position = \"top\",\n    legend.text = element_text(\n      size = 8,\n      colour = \"gray20\",\n      family = \"Gotham Rounded Bold\"\n      ),\n    legend.title = element_text(\n      size = 12,\n      colour = \"gray20\",\n      family = \"Gotham Rounded Bold\"\n      ),\n    # Título\n    plot.title = element_text(family = \"Crimson Text\", size = 18)\n    )\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=100% height=100%}\n:::\n:::\n\n\n# América do Sul\n\nPara fazer o mesmo gráfico para os países da América do Sul e da Ásia basta filtrar por estas regiões. Esta é uma das grandes vantagens do R: para fazer os dois gráficos abaixo só precisei mudar uma linha de código. Na verdade, como é uma mudança muito simples podemos montar o processo acima numa função que cria exatamente o mapa acima para cada região.\n\nO código abaixo mostra um exemplo de como estruturar isto.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Função para reproduzir o gráfico acima\n\n# Guarda as informações do tema\ntheme_vini <-  \n  theme(\n    # Fundo do gráfico\n    panel.grid = element_blank(),\n    # Define as margens do gráfico\n    plot.margin = unit(c(1, 1, .5, 1), \"cm\"),\n    # Eixos\n    axis.text.y = element_text(vjust = .4),\n    axis.ticks = element_line(size = .4),\n    axis.text = element_text(family  = \"Gotham Rounded Light\", size = 8),\n    # Legenda\n    legend.position = \"top\",\n    legend.text = element_text(\n      size = 8,\n      colour = \"gray20\",\n      family = \"Gotham Rounded Bold\"\n      ),\n    legend.title = element_text(\n      size = 12,\n      colour = \"gray20\",\n      family = \"Gotham Rounded Bold\"\n      ),\n    # Título\n    plot.title = element_text(family = \"Crimson Text\", size = 18)\n    )\n\n# Função simples para traduzir os títulos\ntranslate_region <- function(string) {\n  \n  vl <- c(\n    \"South America\" = \"América do Sul\",\n    \"Asia\" = \"Ásia\",\n    \"Africa\" = \"África\",\n    \"Oceania\" = \"Oceania\",\n    \"North America\" = \"América do Norte\",\n    \"Latin America And The Caribbean\" = \"América Latina\",\n    \"Europa\" = \"Europa\"\n    )\n  \n  return(unname(vl[string]))\n  \n}\n\nplot_regiao <- function(name_region) {\n  \n  # Filtra por região e restringe a amostra às observações a partir de 1900\n  \n  if (name_region == \"South America\") {\n    \n    df <- dplyr::filter(d, subregion == name_region, year >= 1900)\n    \n  } else {\n    \n    df <- dplyr::filter(d, region == name_region, year >= 1900)\n  }\n  \n  p <- \n    ggplot(df, aes(year, country)) +\n    geom_tile(aes(fill = var_pib), height = .85, width = 1) +\n    geom_vline(\n      xintercept = c(1900, 1925, 1950, 1975, 2000, 2016),      \n      linetype = 2,                                           \n      colour = \"gray65\"\n      ) +                                      \n    scale_x_continuous(\n      breaks = c(1900, 1925, 1950, 1975, 2000, 2016),\n      expand = c(0,0),\n      sec.axis = dup_axis()\n      ) +                         \n    scale_fill_discrete(\n      breaks = c(0,1),\n      name = \"VARIAÇÃO DO PIB NO MUNDO\\nPor ano\",\n      labels = c(\"PIB EM QUEDA\", \"PIB EM CRESCIMENTO\"), \n      na.value = \"gray90\"\n      ) +\n    labs(title = translate_region(name_region), x = NULL, y = NULL) +\n    theme_vini\n  \n  return(p)\n \n}\n\nplot_regiao(\"South America\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n# Ásia\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_regiao(\"Asia\")  \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=100% height=100%}\n:::\n:::\n\n\n# América Latina\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_regiao(\"Latin America And The Caribbean\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n# Número de países com queda no PIB\n\n## Gráfico 2\n\nEste gráfico conta o número absoluto de países que estava em recessão durante um determinado ano. Como o número de países dentro da amostra também cresce com o tempo, uma linha cinza foi adicionada para representar isto. Resolvi suprimir as flechas que aparecem na postagem original, pois a implementação disto no `ggplot` é muito trabalhosa e o resultado final não é tão bonito.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Primeiro: conta o número de países pela variável var_pib\n# (1 = expansão, 0 = recessão)\nrecession_countries <- d %>%\n  # Seleciona as observações a partir de 1900\n  filter(year >= 1900) %>%\n  # Agrupa os dados por ano e var_pib\n  group_by(year, var_pib) %>%\n  # Soma os valores que não são NA por tipo (1 = expansão, 0 = recessão)\n  summarise(tipo = sum(!is.na(var_pib)))\n\n# Segundo: conta o número de países incluídos na amostra\nrecession_countries <- recession_countries %>%\n  group_by(year) %>%\n  mutate(amostra = sum(tipo)) %>%\n  ungroup()\n\n# Terceiro: remove as contagens de anos de expansão e converte os dados para longitudinal (melhor para plotar)\nrecession_countries <- recession_countries %>%\n  # Remove os valores que são referentes a anos de expansão\n  filter(var_pib != 1) %>%\n  # Tranforma os dados em longitudinais por ano e 'var_pib'\n  # (tipo = recessão, amostra = observações válidas)\n  melt(id.vars = c(\"year\", \"var_pib\"))\n\n# Base de dados para os textos no gráfico\nhighlight <- data.frame(\n  evento = c(\n    \"1ª GUERRA\\nMUNDIAL\", \"CRISE\\nDE 1929\", \"2ª GUERRA\\nMUNDIAL\",\n    \"CRISE DO\\nPETRÓLEO\", \"TRANSIÇÃO CAPITALISTA\\nDO LESTE EUROPEU\",\n    \"CRISE DE 2008\"),\n  year = c(1918, 1929, 1945, 1971, 1988, 2008),\n  y = c(52, 65, 35, 62, 78, 90)\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Obs: como plotamos dados de duas bases diferentes a sintaxe é diferente\n\nggplot() +\n  geom_line(\n    data = recession_countries, \n    aes(year, value, group = variable, colour = variable),\n    # Espessura da linha\n    linewidth = 1.2\n    ) +\n  # Destaques de texto\n  geom_text(\n    data = highlight,\n    aes(year, y, label = evento), \n    size = 3,\n    family = \"Gotham Rounded Light\",\n    vjust = \"center\",\n    hjust = \"center\") +\n  # Troca as cores das linhas e altera a legenda\n  scale_colour_manual(\n    name = NULL,\n    breaks = c(\"amostra\", \"tipo\"),\n    values = c(\"tomato\", \"gray50\"),\n    labels = c(\"países incluídos na amostra\", \"países com queda no PIB\")\n    ) +\n  scale_x_continuous(\n    breaks = c(1900, 1925, 1950, 1975, 2000, 2016),\n    expand = c(0.025,0.025)\n    ) +\n  # Define o título e subtítulo do gráfico e o título dos eixos\n  labs(\n    x = NULL,\n    y = \"número\\nde países\",\n    title = \"NÚMERO DE PAÍSES COM QUEDA NO PIB NO ANO\",\n    subtitle = \"Em valores absolutos\"\n    ) +\n  theme(\n    # Título e subtítulo\n    plot.title = element_text(family = \"Gotham Rounded Bold\"),\n    plot.subtitle = element_text(family = \"Gotham Rounded Light\", size = 14),\n    # Eixos\n    axis.text.x = element_text(family = \"Gotham Rounded Bold\", size = 10),\n    axis.text.y = element_text(family = \"Gotham Rounded Light\", size = 10),\n    axis.ticks.x = element_line(colour = \"grey70\"),\n    axis.ticks.y = element_blank(),\n    axis.title.y = element_text(angle = 360, face = \"bold\", size = 8),\n    # Legenda\n    legend.text = element_text(\n      family = \"Gotham Rounded Bold\",\n      size = 12,\n      vjust = .8,\n      hjust = 0\n      ),\n    legend.background = element_rect(fill = NA),\n    legend.key = element_rect(fill = \"white\"),\n    legend.position = c(0.17,0.75),\n    # Fundo do gráfico  \n    panel.background = element_rect(fill = \"white\"),\n    # Linhas de grade\n    panel.grid = element_blank(),\n    panel.grid.major.y = element_line(colour = \"grey70\")\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## Gráfico 3\n\nEste último gráfico mostra o número relativo de países em recessão.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calcula o share de países em recessão na amostra a cada ano\nshare_recession <- d %>% \n  filter(year >= 1900) %>%\n  # Agrupa os dados por ano e var_pib (indicadora)\n  group_by(year, var_pib) %>%\n  # Remove as observações ausentes \n  filter(!is.na(var_pib)) %>%\n  # Conta o número de casos\n  summarise(count = n()) %>%\n  # Calcula a proporção dos casos acima (em porcentagem)\n  group_by(year) %>%\n  mutate(freq = count / sum(count) * 100)\n\n# Tabela auxiliar para guardar os valores que vão ser plotados como\n# texto no gráfico\nhighlight <- data.frame(\n  evento = c(\n    \"1ª GUERRA\\nMUNDIAL\", \"CRISE\\nDE 1929\", \"2ª GUERRA\\nMUNDIAL\",\n    \"CRISE DO\\nPETRÓLEO\", \"TRANSIÇÃO\\nCAPITALISTA\\nDO LESTE\\nEUROPEU\",\n    \"CRISE DE 2008\"),\n  year = c(1916, 1929, 1942, 1971, 1988, 2006),\n  y = c(70, 45, 75, 77, 81, 70)\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_col(data = share_recession, aes(year, freq, fill = var_pib)) +\n  # Superimpõe linhas horizontais no gráfico\n  geom_hline(\n    yintercept = seq(0, 100, 25),\n    colour = \"gray70\",\n    alpha = .5,\n    size = .8\n    ) +\n  # Mapeia o texto no gráfico (geom_label permite escolher fill = \"salmon\")\n  geom_label(\n    data = highlight,\n    aes(year, y, label = evento),\n    colour = \"white\",\n    size = 3,\n    fill = \"salmon\",\n    family = \"Gotham Rounded Medium\")+\n  # Define título, subtítulo e o título dos eixos\n  labs(\n    x = NULL,\n    y = NULL,\n    title = \"NÚMERO DE PAÍSES COM QUEDA NO PIB\",\n    subtitle = \"Em percentual dos países incluídos na amostra\")+\n  scale_fill_discrete(\n    name = NULL,\n    breaks = c(1,0),\n    labels = c(\"PIB EM CRESCIMENTO\", \"PIB EM QUEDA\"))+\n  scale_x_continuous(\n    breaks = c(1900, 1925, 1950, 1975, 2000, 2016),\n    expand = c(0.025,0.025)\n    ) +\n  scale_y_continuous(\n    breaks = seq(0, 100, 25),\n    labels = c(0, 25, 50, 75, \"100%\")\n    )+\n  theme(\n    # Fundo do gráfico\n    panel.background = element_rect(fill = \"white\"),\n    # Linhas de grade\n    panel.grid = element_blank(),\n    # Legenda\n    legend.position = \"top\",\n    legend.direction = \"horizontal\",\n    legend.justification='left',\n    legend.text = element_text(family = \"Gotham Rounded Bold\"),\n    # Título e subtítulo\n    plot.title = element_text(family = \"Gotham Rounded Bold\", size = 16),\n    plot.subtitle = element_text(family = \"Gotham Rounded Light\", size = 12),\n    # Eixos\n    axis.text.x = element_text(family = \"Gotham Rounded Bold\", size = 10),\n    axis.text.y = element_text(family = \"Gotham Rounded Light\", size = 10),\n    axis.ticks.y = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n# Gráfico extra\n\nResolvi fazer um gráfico próprio mostrando o crescimento do PIB nos países da América Latina dando destaque para alguns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndestaque <- c(\"Uruguay\", \"Brazil\", \"Chile\", \"Venezuela\")\n\nprincipal <- d %>% \n  filter(year >= 1900, subregion == \"South America\") %>%\n  mutate(ind = as.factor(ifelse(country %in% destaque, country, NA))) %>%\n  filter(!is.na(ind))\n\noutros <- d %>%\n  filter(year >= 1900, subregion == \"South America\") %>%\n  mutate(ind = as.factor(ifelse(country %in% destaque, NA, country))) %>%\n  filter(!is.na(ind))\n\ny <- principal %>% \n  filter(year == 2016) %>%\n  mutate(\n    y = cgdppc,\n    country_abbrev = case_when(\n      country == \"Brazil\" ~ \"BRA\",\n      country == \"Venezuela\" ~ \"VEN\",\n      country == \"Uruguay\" ~ \"URY\",\n      country == \"Chile\" ~ \"CHL\",\n      TRUE ~ country\n    ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_line(\n    data = principal,\n    aes(year, cgdppc, group = country, colour = ind),\n    linewidth = 1,\n    alpha = .85\n    ) +\n  geom_line(\n    data = outros,\n    aes(year, cgdppc, group = country),\n    colour = \"grey70\",\n    alpha = .6\n    ) +\n  geom_hline(\n    yintercept = seq(5000, 20000, 5000),\n    linetype = 2,\n    colour = \"grey75\"\n    ) +\n  geom_text_repel(\n    data = y,\n    aes(year, cgdppc * 1.025, label = country_abbrev),\n    size = 4,\n    family = \"Bahnschrift\",\n    colour = \"black\", nudge_x = 7, force = 5\n    ) +\n  scale_colour_manual(\n    values = c(\"steelblue2\", \"limegreen\", \"orange\", \"tomato\")\n    )+\n  scale_x_continuous(breaks = c(seq(1900, 2010, 10)))+\n  scale_y_continuous(\n    breaks = seq(5000, 20000, 5000),\n    labels = c(\"5.000\", \"10.000\", \"15.000\", \"20.000\")\n    )+\n  guides(colour = FALSE)+\n  labs(\n    x = NULL,\n    y = \"US$\",\n    title = \"AMÉRICA DO SUL\",\n    subtitle = \"PIB per capita real, em milhares de dólares (constante 2011).\\nEm destaque: Brasil (BR), Chile (CH), Uruguai (UR) e Venezuela (VN).\")+\n  theme(\n    text = element_text(family = \"Bahnschrift\"),\n    panel.background = element_rect(fill = \"white\"),\n    axis.text.x = element_text(face = \"bold\", size = 12),\n    axis.text.y = element_text(size = 10),\n    plot.title = element_text(size = 16, face = \"bold\"),\n    plot.subtitle = element_text(size = 12)\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}