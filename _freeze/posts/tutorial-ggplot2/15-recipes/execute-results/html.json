{
  "hash": "29be243bc8f38ce7ff1caabe61ed22c9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Livro de Receitas\"\nexecute: \n  warning: false\n  message: false\nformat:\n  html:\n    code-fold: true\ndraft: true\n---\n\n# Livro de Receitas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(\n  out.width = \"70%\",\n  fig.align = \"center\",\n  fig.width = 7,\n  fig.asp = 0.618\n)\n```\n:::\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n:::\n\n\n## Colunas\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntbl <- diamonds |> \n  count(cut) |> \n  mutate(\n    share = n / sum(n) * 100,\n    label = format(round(share, 1)),\n    label = if_else(nchar(label) == 1, paste0(label, \".0\"), label),\n    label = paste0(label, \"%\"),\n    cut = forcats::fct_reorder(cut, share),\n    highlight = factor(if_else(cut == \"Ideal\", 1L, 0L)),\n    ytext = if_else(cut == \"Fair\", share + 1.5, share - 1.5),\n    coltext = factor(if_else(cut == \"Fair\", 1L, 0L))\n    )\n\nsub <- filter(tbl, cut != \"Fair\")\n```\n:::\n\n\n### Gráfico de colunas com texto\n\n::: {.panel-tabset}\n## Vertical\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(tbl, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(aes(y = share + 2.5, label = label)) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-4-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n## Horizontal\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(tbl, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(aes(y = share + 2.5, label = label)) +\n  theme_minimal() +\n  coord_flip() +\n  theme(\n    axis.text.x = element_blank(),\n    axis.text.y = element_text(size = 12),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n:::\n\n::: {.panel-tabset}\n## Texto na base\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sub, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(aes(y = 2, label = label), color = \"white\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n\n## Texto centralizado\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sub, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(\n    aes(label = label),\n    position = position_stack(vjust = 0.5),\n    color = \"white\"\n    ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-7-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n## Texto no topo\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sub, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(\n    aes(y = share, label = label),\n    nudge_y = -2,\n    color = \"white\"\n    ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n\n## Texto acima da barra\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sub, aes(x = cut, y = share)) +\n  geom_col() +\n  geom_text(\n    aes(y = share, label = label),\n    nudge_y = 2,\n    color = \"white\"\n    ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(size = 12),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n:::\n\n\n\n\n### Gráfico de colunas com nomes acima das barras\n\n::: {.panel-tabset}\n## R\n\n``` {.r}\nfizz_buzz <- function(fbnums = 1:50) {\n  output <- dplyr::case_when(\n    fbnums %% 15 == 0 ~ \"FizzBuzz\",\n    fbnums %% 3 == 0 ~ \"Fizz\",\n    fbnums %% 5 == 0 ~ \"Buzz\",\n    TRUE ~ as.character(fbnums)\n  )\n  print(output)\n}\n```\n:::\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(sub, aes(x = cut)) +\n  geom_col(aes(y = share), fill = \"#2a9d8f\", width = 0.5) +\n  geom_text(\n    aes(x = cut, y = 0, label = cut),\n    hjust = 0,\n    nudge_x = 0.4,\n    fontface = \"bold\",\n    size = 5\n  ) +\n  geom_text(\n    aes(x = cut, y = ytext, label = label),\n    fontface = \"bold\"\n  ) +\n  scale_y_continuous(\n    name = \"Proportion\",\n    breaks = seq(0, 40, 10),\n    labels = \\(x) paste0(x, \"%\"),\n    limits = c(0, 40),\n    expand = c(0, 0)\n  ) +\n  labs(x = NULL, y = NULL) +\n  coord_flip() +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.text = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-10-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(tbl, aes(x = cut)) +\n  geom_col(aes(y = share, fill = highlight), width = 0.5) +\n  geom_text(\n    aes(x = cut, y = 0, label = cut),\n    hjust = 0,\n    nudge_x = 0.4,\n    fontface = \"bold\",\n    size = 5\n  ) +\n  geom_text(\n    aes(x = cut, y = ytext, label = label, color = coltext),\n    fontface = \"bold\"\n  ) +\n  scale_y_continuous(\n    name = \"Proportion\",\n    breaks = seq(0, 40, 10),\n    labels = \\(x) paste0(x, \"%\"),\n    limits = c(0, 40),\n    expand = c(0, 0)\n  ) +\n  labs(x = \"\") +\n  scale_fill_manual(values = c(\"gray45\", \"#2a9d8f\")) +\n  scale_color_manual(values = c(\"#ffffff\", \"#000000\")) +\n  guides(fill = \"none\", color = \"none\") +\n  coord_flip() +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.text.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    axis.line.x = element_line(color = \"gray80\"),\n    axis.ticks.x = element_line(color = \"gray80\"),\n    plot.margin = margin(0.5, 0.75, 0.5, 0, unit = \"cm\")\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-11-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n### Gráfico de colunas com nomes dentro das barras\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(tbl, aes(x = cut)) +\n  geom_col(aes(y = share, fill = highlight), width = 0.5) +\n  geom_text(\n    aes(x = cut, y = 0.5, label = cut),\n    hjust = 0,\n    fontface = \"bold\",\n    size = 5\n  ) +\n  geom_text(\n    aes(x = cut, y = ytext, label = label, color = coltext),\n    fontface = \"bold\"\n  ) +\n  scale_y_continuous(\n    name = \"Proportion\",\n    breaks = seq(0, 40, 10),\n    labels = \\(x) paste0(x, \"%\"),\n    limits = c(0, 40),\n    expand = c(0, 0)\n  ) +\n  labs(x = \"\") +\n  scale_fill_manual(values = c(\"gray45\", \"#2a9d8f\")) +\n  scale_color_manual(values = c(\"#ffffff\", \"#000000\")) +\n  guides(fill = \"none\", color = \"none\") +\n  coord_flip() +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.text.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    axis.line.x = element_line(color = \"gray80\"),\n    axis.ticks.x = element_line(color = \"gray80\"),\n    plot.margin = margin(0.5, 0.75, 0.5, 0, unit = \"cm\")\n  )\n```\n\n::: {.cell-output-display}\n![](15-recipes_files/figure-html/unnamed-chunk-12-1.png){fig-align='center' width=70%}\n:::\n:::\n\n",
    "supporting": [
      "15-recipes_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}